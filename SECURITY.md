# Security Policy

## Безопасность

### Секреты и конфиденциальные данные

**НИКОГДА не коммитьте следующие данные в репозиторий:**

- ❌ Токены Telegram ботов (`.env`, `.env.dev`, `.env.prod`)
- ❌ Пароли баз данных
- ❌ SSH ключи
- ❌ API ключи
- ❌ Любые файлы `.env.*`

### Где хранить секреты

✅ **GitHub Secrets** - единственное место для хранения всех чувствительных данных:
- Перейдите: Settings → Secrets and variables → Actions
- Добавьте все необходимые секреты (список в [CI-CD.md](CI-CD.md))

### Для локальной разработки

1. Создайте `.env.dev` на основе `.env.example`
2. Добавьте свои локальные значения
3. Этот файл в `.gitignore` и НЕ будет закоммичен

### Проверка перед коммитом

Перед каждым коммитом убедитесь:
```bash
# Проверить, что нет .env файлов в staged
git status

# Убедиться, что .gitignore работает
git check-ignore .env.dev .env.prod
```

### Что делать если секрет попал в репозиторий

1. **Немедленно** измените скомпрометированный секрет (токен бота, пароль БД и т.д.)
2. Удалите секрет из истории Git:
   ```bash
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch path/to/secret" \
     --prune-empty --tag-name-filter cat -- --all
   ```
3. Force push (ОСТОРОЖНО!):
   ```bash
   git push origin --force --all
   ```

## Сообщить о проблеме безопасности

Если вы обнаружили уязвимость, пожалуйста, НЕ создавайте публичный issue. Свяжитесь с администратором напрямую.
